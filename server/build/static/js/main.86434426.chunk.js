(this["webpackJsonpisotope-client"]=this["webpackJsonpisotope-client"]||[]).push([[0],{114:function(e,t,a){e.exports=a(166)},119:function(e,t,a){},166:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),i=a.n(o),c=(a(119),a(220)),l=a(171),s=a(219),m=a(221),u=a(37),f=a(22),p=a(46),g=a(87),d=a.n(g),h=a(222),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{localStorageKey:"",initialValue:null,isJSON:!1},t=window.localStorage.getItem(e.localStorageKey)||null;t&&e.isJSON&&(t=JSON.parse(t));var a=Object(n.useState)(t),r=Object(f.a)(a,2),o=r[0],i=r[1];return Object(n.useEffect)((function(){null!==o&&window.localStorage.setItem(e.localStorageKey,e.isJSON?JSON.stringify(o):o)}),[o]),[o,i]},v="issatso-majorKey",E="issatso-schedule",b=Object(l.a)((function(e){return{input:{width:320,maxWidth:"100%"},title:{marginTop:"25%"}}}));var x=function(e){var t=Object(n.useState)([]),a=Object(f.a)(t,2),o=a[0],i=a[1],c=y({localStorageKey:v,isJSON:!0}),l=Object(f.a)(c,2),s=l[0],m=l[1];Object(n.useEffect)((function(){fetch("/api/majors").then((function(e){return e.json()})).then((function(e){return i(e)}))}),[]),Object(n.useEffect)((function(){null!==s&&e.history.push("/".concat(s.majorId))}),[s]);var u=b();return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{className:u.title,gutterBottom:!0,align:"left",variant:"h1"},"Pick your major"),r.a.createElement(d.a,{onKeyDown:function(e){"Enter"===e.key&&console.log("shit")},defaultValue:s,onChange:function(e,t){m(t)},getOptionLabel:function(e){return e.fullName},options:o,renderInput:function(e){return r.a.createElement(h.a,Object.assign({className:u.input},e,{style:{fontSize:"2rem"},margin:"normal",label:"MAJOR",placeholder:"ex: FIA1-01"}))}}))},j=a(67),S=a.n(j),k=a(89),w=a(224),N=a(218),O=a(90),C=a.n(O),T=a(210),B=a(212),F=a(211),I=a(75),R=a(91),D=a.n(R),J=Object(I.a)((function(e){return{container:{margin:e.spacing(2)},root:{height:100,background:"url(".concat(D.a,")")},label:{fontFamily:"Roboto Mono",color:"#BBB",display:"inline-block",padding:e.spacing(2)}}}));function A(e){var t=J();return r.a.createElement(T.a,{className:t.container,elevation:0},r.a.createElement(F.a,{onClick:e.onClick},r.a.createElement(B.a,{className:t.root},r.a.createElement(p.a,{className:t.label,color:"inherit",variant:"subtitle1"},"Empty session: ",e.time))))}var K=a(213),W=a(85),z=a(92),P=a.n(z),_=a(93),G=a.n(_),M={S1:"08:30 - 10:00",S2:"10:10 - 11:40",S3:"11:50 - 13:20",S4:"13:50 - 15:20","S4'":"13:30 - 15:00",S5:"15:30 - 17:00",S6:"17:10 - 18:40"},L={TP:{background:"#EDEAFF",text:"#30005D",darker:"#705BCF"},TD:{background:"#D9FFE5",text:"#30005D",darker:"#30005D"},C:{background:"#FFE5E7",text:"#30005D",darker:"#30005D"}},V=/-(.*?)-/,q=Object(l.a)((function(e){return{root:function(t){return{marginLeft:e.spacing(2),marginTop:e.spacing(2),marginBottom:e.spacing(2),height:200,backgroundColor:t.type&&L[t.type].background}},sessionRoot:{display:"flex"},subjectText:function(t){return{flex:1,color:t.type&&L[t.type].text,fontSize:e.typography.pxToRem(18),fontFamily:"Roboto Mono"}},timeText:function(e){return{color:e.type&&L[e.type].text,fontFamily:"monospace",textWrap:"nowrap"}},chip:function(t){return{backgroundColor:"white",color:t.type?L[t.type].text:"black",borderRadius:e.shape.borderRadius,marginRight:e.spacing(2),marginTop:e.spacing(2)}},icons:{display:"flex",width:"100%"},iconGroup:{marginRight:e.spacing(4),display:"flex",alignItems:"center"},icon:function(t){return{marginRight:e.spacing(1),fontSize:e.typography.pxToRem(18),color:t.type&&L[t.type].darker}},iconText:function(t){return{color:t.type&&L[t.type].darker,fontFamily:"Roboto Mono",fontSize:e.typography.pxToRem(18)}}}}));var X=function(e){var t=e.subject,a=e.time,n=e.professor,o=e.room,i=e.regime,c=e.type,l=e.disabled,s=e.onClick,m=null;l||(m=(m=V.exec(t)[1]).replace(/(\(.*\))/,""));var u=q(e);return l?r.a.createElement(A,Object.assign({onClick:s},e)):r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{className:u.root,elevation:0},r.a.createElement(F.a,{style:{height:"100%"}},r.a.createElement(B.a,{onClick:s,style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"}},r.a.createElement("div",{className:u.sessionRoot},r.a.createElement(p.a,{className:u.subjectText,variant:"h5"},m),r.a.createElement(p.a,{className:u.timeText,variant:"caption"},M[a])),r.a.createElement("div",{className:u.icons},r.a.createElement("div",{className:u.iconGroup},r.a.createElement(P.a,{className:u.icon}),r.a.createElement(p.a,{className:u.iconText,variant:"subtitle1"},o)),r.a.createElement("div",{className:u.iconGroup},r.a.createElement(G.a,{className:u.icon}),r.a.createElement(p.a,{className:u.iconText,variant:"subtitle1"},i))),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(W.a,{label:c,className:u.chip}),r.a.createElement(W.a,{label:n,className:u.chip}),r.a.createElement(W.a,{label:a,className:u.chip}))))),r.a.createElement(K.a,null))},$=a(94),H=a.n($),Q=a(226),U=a(216),Y=a(217),Z=a(209),ee=a(214),te=a(215);var ae=function(e){var t=e.alternatives,a=/-(.*?)-/;return r.a.createElement(Z.a,null,t&&t.map((function(e,t){var n=e.Sessions[0],o=a.exec(n.subject)[1];return o=o.replace(/(\(.*\))/,""),r.a.createElement(r.a.Fragment,{key:"alternative-".concat(t)},r.a.createElement(p.a,{style:{marginTop:12},variant:"h6"},e.fullName),r.a.createElement(ee.a,{divider:!0},r.a.createElement(te.a,{primary:o,secondary:"".concat(n.type," - ").concat(n.room," - ").concat(n.regime)})))})))};var ne=function(e){var t=e.setAlternatives,a=e.alternatives,n=function(){t(null)};return r.a.createElement(Q.a,{maxWidth:"sm",open:null!==a,onClose:n,onBackdropClick:n},r.a.createElement(U.a,null,"Alternatives"),r.a.createElement(Y.a,null,r.a.createElement(ae,{alternatives:a})))},re=a(95),oe=a.n(re),ie=a(78),ce=["lundi","mardi","mercredi","jeudi","vendredi","samedi"],le=["S1","S2","S3","S4","S5","S6"];function se(e){var t=e.currentTab,a=e.index,n=e.children;return t===a&&n}se.defaultProps={currentTab:0,index:0};var me=Object(u.f)((function(e){var t=Object(n.useState)([]),a=Object(f.a)(t,2),o=a[0],i=a[1],c=Object(n.useState)(0),l=Object(f.a)(c,2),s=l[0],m=l[1],u=Object(n.useState)(null),g=Object(f.a)(u,2),d=g[0],h=g[1];console.log(e),Object(n.useEffect)((function(){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e&&0!==e.length){for(var a=[],n=function(n){var r=e.filter((function(e){return e.day===n&&e.subGroup===t})),o=r.reduce((function(e,t){return e[t.time]||(e[t.time]=!0),e}),{});le.forEach((function(e){6===n&&"S4"===e&&(e="S4'"),e in o||r.push({disabled:!0,time:e,id:H()()})})),r.sort((function(e,t){return e.time>t.time?1:-1})),a.push(r)},r=1;r<=6;r++)n(r);return a}}(e.Sessions);i(t)}),[e.Sessions]);var y=function(){var e=Object(k.a)(S.a.mark((function e(){var t,a=arguments;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{majorName:"",year:"",day:"",time:""},console.log("requesting with params",t),e.next=4,fetch("/api/sessions/alternatives",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){h(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(ne,{alternatives:d,open:d,setAlternatives:h}),r.a.createElement(p.a,{gutterBottom:!0,variant:"h1"},e.fullName,r.a.createElement(ie.a,{style:{marginLeft:12},onClick:function(){window.localStorage.clear(),e.history.push("/")}},r.a.createElement(oe.a,null))),r.a.createElement(w.a,{value:s,onChange:function(e,t){return m(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto"},ce.map((function(e,t){return r.a.createElement(N.a,{key:"day-tab-".concat(t),label:e})}))),r.a.createElement(C.a,{index:s,onChangeIndex:function(e){return m(e)}},o&&o.length>0?o.map((function(t,a){return r.a.createElement(se,{key:"key-tabContent-".concat(a),currentTab:s,index:a},t.map((function(t){return r.a.createElement(X,Object.assign({onClick:function(){return y({majorName:e.majorName,year:e.year,day:a+1,time:t.time})},key:"key-session-".concat(t.id)},t))})))})):r.a.createElement(p.a,{variant:"h5"},"loading... \u2615")))})),ue="https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/google/223/thinking-face_1f914.png",fe=Object(l.a)((function(e){return{errorContainer:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100vh",alignItems:"flex-start"},errorTitle:{marginBottom:e.spacing(2)}}}));var pe=function(e){var t=fe(),a=y({localStorageKey:E,isJSON:!0}),o=Object(f.a)(a,2),i=o[0],c=o[1],l=Object(n.useState)(null),m=Object(f.a)(l,2),u=m[0],g=m[1];return Object(n.useEffect)((function(){var t=e.match.params.majorId;fetch("/api/sessions/".concat(t)).then((function(e){return e.json()})).then((function(e){e.error?g(e.error):c(e)}))}),[]),u?r.a.createElement("div",{className:t.errorContainer},r.a.createElement("img",{align:"center",src:ue}),r.a.createElement(p.a,{gutterBottom:!0,align:"left",color:"error",variant:"h1"},u),r.a.createElement(s.a,{variant:"outlined",color:"primary",onClick:function(){return e.history.push("/")}},"try to select another one")):r.a.createElement(me,i)},ge=a(223),de=Object(l.a)((function(e){return{container:{overflowX:"hidden",height:"100vh",overflow:"visible",position:"relative",padding:e.spacing(2),display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start"},formContainer:{border:"1px solid lightgray",padding:e.spacing(2)},footer:{},twitterIcon:{width:24,verticalAlign:"middle",marginRight:e.spacing(1)},socialButtons:{textTransform:"lowercase"}}}));var he=function(){var e=de(),t=function(e){window.open(e,"_blank")};return r.a.createElement(c.a,{className:e.container,maxWidth:"md"},r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:x}),r.a.createElement(u.a,{exact:!0,path:"/:majorId",component:pe})),r.a.createElement(ge.a,{style:{flex:1}}),r.a.createElement("footer",{className:e.footer},r.a.createElement(m.a,{spacing:2,container:!0},r.a.createElement(m.a,{item:!0},r.a.createElement(s.a,{className:e.socialButtons,onClick:function(){return t("https://twitter.com/haythem_farhat")}},r.a.createElement("img",{alt:"twitter",className:e.twitterIcon,src:"https://upload.wikimedia.org/wikipedia/fr/c/c8/Twitter_Bird.svg"}),"@haythem_farhat")),r.a.createElement(m.a,{item:!0},r.a.createElement(s.a,{className:e.socialButtons,onClick:function(){return t("https://github.com/farhat-h")}},r.a.createElement("img",{alt:"github",className:e.twitterIcon,src:"https://image.flaticon.com/icons/svg/25/25231.svg"}),"farhat-h")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ye=a(207),ve=a(99),Ee=a.n(ve),be=a(52),xe=Ee()({typography:{h1:{fontSize:"3rem",fontFamily:"Poppins",fontWeight:800}}});i.a.render(r.a.createElement(be.a,null,r.a.createElement(ye.a,{theme:xe},r.a.createElement(he,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},91:function(e,t,a){e.exports=a.p+"static/media/pattern.5f9075d2.png"}},[[114,1,2]]]);
//# sourceMappingURL=main.86434426.chunk.js.map